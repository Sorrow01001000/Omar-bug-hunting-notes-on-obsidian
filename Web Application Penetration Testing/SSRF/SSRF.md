دلوقتي عشان نبقي فاهمين فيه نوعين من الثغرات ال client side ودي البتأثر في العميل زي ال CSRF ,XSS,
وفي ثغرات تانيه Server side دي البتأثر علي السيرفر ذات نفسه زي ال SQL Injection , SSRF.

![[Pasted image 20250701021658.png]]
دلوقتي في حاجات اسمها third parties apps or systems يعني مثلا دلوقتي نفترض انك في موقع فا الموقع مثلا فيه فيديو والفيديو ده جي من يوتيوب فا اليوتيوب هنا يعتبر third party في الموقع
![[Pasted image 20250701021801.png]]
مثال الايكونات التحت دي كلها من مواقع مختلفه فا تعتبر third party.
فا دلوقتي الفكره في البيحصل ان الموقع الفتح ده بيبعت ريكويستات لل third party و يطلب منه صور الايكونات فا طبيعي المواقف بترد بتعمل response فا دلوقتي نفترض السيرفر المصاب ده عرفنا احنا نعدل او نبدل ال responses الرجعاله بالموقع بتعنا كهاكر يعني فا يسحب من موقع الهاكر ايا كان بقا ويهكر السيرفر وهي دي ثغره ال SSRF.

لو سألت نفسك سؤال هتقول طب اي third party ليه لي الصالحيه انه يبعت وكدا فا عشان بتبقي مواقع موثوقه.


-------------------------------------------------------------------------------------

lab port swigger
![[Pasted image 20250701022508.png]]
دلوقتي الموقع بيستعين بموقع خارجي عشان يعمل check علي ال location فا ازاي بقا ندخل بين الموقع وال third party هنشوف دلوقتي.

بنعمل intercept للrequest بالburp.
![[Pasted image 20250701022630.png]]

![[Pasted image 20250701022704.png]]
نعمل encode.
ومهمتنا ان اللينك الطلع ده نغيره بسيرفر الهاكر وبما أن الطلب طلع في ال request يبقي ملكش دعوه بالresponse بتعدل علي ال request فقط.

![[Pasted image 20250701022845.png]]
لو عندك النسخه المدفوعه من burp بتعمل copy واللينك ده هوا الخاص بيك الهتعمل بيك inject في المواقع.

![[Pasted image 20250701023047.png]]
بتحطه هنا 
![[Pasted image 20250701023119.png]]
والجزء التحت بيتمسح.
![[Pasted image 20250701023133.png]]
لو طلع ok يبقي انت تمام.

![[Pasted image 20250701023202.png]]
اعمل poll في ال collaborator وهتلاقي HTTP يعني رساله جت علي السيرفر الخاص بتاعك يبقي كدا فعلا شغال.

-----------------------------------------------------------------------------
بعد ما خلصنا واكتشفنا انه في ثغره فا دلوقتي بنحاول نعلي من خطوره الثغره.

![[Pasted image 20250701023330.png]]
هنبدل الرابط ونكتب localhost وتاخد بالك ان دايما localhost بتيجي بعد http ومفيش https.
معني الاحنا كتنباه ده اي معناه دلوقتي لو كان في لينك فا اكني بقوله اقرأ الملفات من الموقع الانا طلبت منه وابعتهولي بس دلوقتي بما أننا غيرناه ب localhost فا اكننا بنقوله اقرأ الملفات من عندك انت وابعتلي الموجود (من السيرفر الداخلي يعني).

بعيدا عن ال lab.

---------------------------------------------------------------------
![[Pasted image 20250701023838.png]]
سيناريو حقيقي مثلا فا ساعتها انت هتبص في ال request وتشوف اي لينك وتبدله بال collaborator بتاعك.
وتبعت الrequest وتعمل poll وتشوف لو حاجه هتتبعتلك http ساعتها بتاخد السكرين وتبعتها للشركه وهما بيبقو فاهمين.

![[Pasted image 20250701024111.png]]
لو انت زهقان او مكسل تبدل كل ال اللينكات الموجوده في الrequest فا ممكن تحمل ال extension دي لو عندك ال pro وهيا هتعملك الشغل ده.
![[Pasted image 20250701024155.png]]
وبتبان في ال scan.

